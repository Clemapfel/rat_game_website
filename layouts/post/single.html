{{ define "title" -}}
  {{ .Title }} | {{ .Site.Title }}
{{- end }}

{{ define "header" }}
  {{ partial "bg_image.html" }}

<style>
header {
    padding-left: 4em;
    margin-left: -4em;
    padding-right: 4em;
    margin-right: -4em;

    padding-top: 0em;
    margin-top: -1.5em;
    padding-bottom: 2em;
    margin-bottom: -5em;

    min-height: 10vh;

    background-color: #1d1d1d;
}
</style>

{{ end }}

{{ define "main" }}
  {{ if ne $.Site.Params.hackcss.disabled true }}
    {{ with resources.Get "css/conditional/layouts/post/single.css" | minify }}
      <style>{{ .Content | safeCSS }}</style>
    {{ end }}
  {{ end }}
  <article itemscope itemtype="https://schema.org/BlogPosting">
    {{ template "_internal/schema.html" . }}

    <header>
      <a class="muted" id="Title" href="/post" style="float:right; position:relative; top:-2em; color:#00f7c6; "> << back to index </a>
      <h1 itemprop="headline name" style="color:#00f7c6">{{ .Title }}</h1>
      <hr style="border:1px solid #e92d7d"> </hr>
      <p class="muted">
        {{ partial "post/meta.html" . }}
        {{ partial "post/related-content.html" . }}
      </p>
      <br>

      {{ if .Description }}
        <blockquote itemprop="description">{{ .Description }}</blockquote>
      {{ end }}
      {{ partial "image/header.html" . }}
    </header>
    <div itemprop="articleBody">
        <span class="muted" style="float:right; position:relative; top:0em;">
          <a href="#Comments" style="color:#00f7c6;">&#11015; jump to comments</a>
        </span>
      {{ .Content }}
      <span class="muted" style="float:right; position:relative; top:5em;">
        <a href="#Title" style="color:#00f7c6;">&#11014; jump to beginning</a>
      </span>
      {{ partial "comments.html" }}
    </div>

  </article>
{{ end }}

